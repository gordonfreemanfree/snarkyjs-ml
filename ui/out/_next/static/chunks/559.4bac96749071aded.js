"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[559],{8559:function(t,e,o){o.a(t,async function(t,r){try{o.r(e),o.d(e,{SnarkyLayer1:function(){return c},SnarkyLayer2:function(){return f}});var n=o(6400),i=o(2655),l=t([i]);i=(l.then?(await l)():l)[0];var s=function(t,e,o,r){var n,i=arguments.length,l=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(l=(i<3?n(l):i>3?n(e,o,l):n(e,o))||l);return i>3&&l&&Object.defineProperty(e,o,l),l},a=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)};class c extends i.J{constructor(t,e="relu",o=(0,n.gN)(10)){super(),this.activation=this.activation_selection(e),this.alpha=o,this.weights=t}call(t){return console.log("in the call function"),this.activation_t2(this.dot_product_t2(t,this.weights))}activation_selection(t){if("relu"==t)return this.relu_t1;if("relu_leaky"==t)return this.relu_leaky_t1;if("softmax"==t)return this.softmax_t1;throw Error("Activation Function Not Valid")}activation_t2(t){console.log("in the activation_t2 function");let e=[];return t.forEach((t,o)=>e[o]=this.relu_t1(t)),e}relu_t1(t){let e=[];return t.forEach((t,o)=>e[o]=t),e}relu_leaky_t1(t){let e=[];return t.forEach((t,o)=>e[o]=t),e}softmax_t1(t){console.log("in the softmax_t1 function"),console.log("x before exp part is",t.toString());let e=n.zM.zero,o=[];console.log("x before exp part is",t.toString());let r=[];return t.forEach((t,e)=>r[e]=n.zM.from(t).div(n.zM.from(1e6))),console.log("x after overflow prevention is",r.toString()),r.forEach(t=>console.log(this.exp(t).toString())),console.log("x after exp is",r.toString()),r.forEach(t=>e=e.add(this.exp(t))),console.log("sum is",e.toString()),r.forEach((t,r)=>{let n=this.exp(t).divMod(e);o[r]=n.rest}),console.log("result is",o.toString()),o}}s([(0,n.HM)(n.gN,64,10),a("design:type",Array)],c.prototype,"weights",void 0);class f extends i.J{constructor(t,e="relu",o=(0,n.gN)(10)){super(),this.activation=this.activation_selection(e),this.alpha=o,this.weights=t}call(t){return console.log("in the call function"),this.activation_t2(this.dot_product_t2(t,this.weights))}activation_selection(t){if("relu"==t)return this.relu_t1;if("relu_leaky"==t)return this.relu_leaky_t1;if("softmax"==t)return this.softmax_t1;throw Error("Activation Function Not Valid")}activation_t2(t){console.log("in the activation_t2 function");let e=[];return t.forEach((t,o)=>e[o]=this.relu_t1(t)),e}relu_t1(t){let e=[];return t.forEach((t,o)=>e[o]=t),e}relu_leaky_t1(t){let e=[];return t.forEach((t,o)=>e[o]=t),e}softmax_t1(t){console.log("in the softmax_t1 function"),console.log("x before exp part is",t.toString());let e=n.zM.zero,o=[];console.log("x before exp part is",t.toString());let r=[];return t.forEach((t,e)=>r[e]=n.zM.from(t).div(n.zM.from(1e6))),console.log("x after overflow prevention is",r.toString()),r.forEach(t=>console.log(this.exp(t).toString())),console.log("x after exp is",r.toString()),r.forEach(t=>e=e.add(this.exp(t))),console.log("sum is",e.toString()),r.forEach((t,r)=>{let n=this.exp(t).divMod(e);o[r]=n.rest}),console.log("result is",o.toString()),o}}s([(0,n.HM)(n.gN,10,10),a("design:type",Array)],f.prototype,"weights",void 0),r()}catch(h){r(h)}})},2655:function(t,e,o){o.a(t,async function(t,r){try{o.d(e,{J:function(){return i}});var n=o(6400);await n.DK;class i extends n.wA{constructor(t=(0,n.gN)(1e7)){super(),this.scale_factor_Field=t}dot_product_t2(t,e){console.log("in the dot product");let o=[],r=this.transpose(e);for(let n=0;n<t.length;n++){console.log("in the for loop",n);let i=[];for(let l=0;l<r.length;l++)console.log("in the for loop",l),i[l]=this.dot_product_t1(t[n],r[l]);o[n]=i}return o}dot_product_t1(t,e){let o=n.gN.zero;return console.assert(t.length===e.length,"tensor dimensions do not fit, can't do dot_product_t1"),t.forEach((t,r)=>o=o.add(t.mul(e[r]))),o}transpose(t){let e=[];for(let o=0;o<t[0].length;o++){let r=[];for(let n=0;n<t.length;n++)r[n]=t[n][o];e[o]=r}return e}exp_part(t,e,o){let r=n.zM.from(t);r=r.div(n.zM.from(o));for(let i=1;i<e;i++)r=(r=r.mul(t).div(n.zM.from(this.scale_factor_Field))).mul(n.zM.from(t));return r}exp(t){return n.zM.one.add(n.zM.from(t)).add(this.exp_part(t,2,2)).add(this.exp_part(t,3,6)).add(this.exp_part(t,4,24)).add(this.exp_part(t,5,120)).add(this.exp_part(t,6,720)).add(this.exp_part(t,7,5040))}}r()}catch(l){r(l)}},1)}}]);